<!DOCTYPE html><html lang="en"><head><link rel="preload" href="content.json" as="fetch" crossorigin=""><base href="../../"><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><script>if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker.register("service-worker.js");
        });
      } else {
        console.log("No service worker registered.");
      }</script><link rel="shortcut icon" href="assets/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png"><link rel="icon" type="image/png" sizes="48x48" href="assets/favicon-48x48.png"><link rel="manifest" href="assets/manifest.json"><meta name="mobile-web-app-capable" content="yes"><meta name="theme-color" content="#ffffff"><meta name="application-name" content="Jordane Grenat | Personal Website"><link rel="apple-touch-icon" sizes="57x57" href="assets/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="assets/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="assets/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="assets/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="assets/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="assets/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="assets/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="assets/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="167x167" href="assets/apple-touch-icon-167x167.png"><link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon-180x180.png"><link rel="apple-touch-icon" sizes="1024x1024" href="assets/apple-touch-icon-1024x1024.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="apple-mobile-web-app-title" content="Jordane Grenat | Personal Website"><script defer="defer" src="main.js"></script><link rel="preload" href="main.js" as="script"><style>/*

Dracula Theme v1.2.0

https://github.com/zenorocha/dracula-theme

Copyright 2015, All rights reserved

Code licensed under the MIT license
http://zenorocha.mit-license.org

@author Éverton Ribeiro <nuxlli@gmail.com>
@author Zeno Rocha <hi@zenorocha.com>

*/

.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  background: #282a36;
}

.hljs-keyword,
.hljs-selector-tag,
.hljs-literal,
.hljs-section,
.hljs-link {
  color: #8be9fd;
}

.hljs-function .hljs-keyword {
  color: #ff79c6;
}

.hljs,
.hljs-subst {
  color: #f8f8f2;
}

.hljs-string,
.hljs-title,
.hljs-name,
.hljs-type,
.hljs-attribute,
.hljs-symbol,
.hljs-bullet,
.hljs-addition,
.hljs-variable,
.hljs-template-tag,
.hljs-template-variable {
  color: #f1fa8c;
}

.hljs-comment,
.hljs-quote,
.hljs-deletion,
.hljs-meta {
  color: #6272a4;
}

.hljs-keyword,
.hljs-selector-tag,
.hljs-literal,
.hljs-title,
.hljs-section,
.hljs-doctag,
.hljs-type,
.hljs-name,
.hljs-strong {
  font-weight: bold;
}

.hljs-emphasis {
  font-style: italic;
}
</style><style>@import url(https://fonts.googleapis.com/css?family=Rubik|Noto+Sans&display=swap);</style><style>/***** CSS Reset *******/

/* http://meyerweb.com/eric/tools/css/reset/
   v2.0 | 20110126
   License: none (public domain)
*/

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed,
figure, figcaption, footer, header, hgroup,
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
  margin: 0;
  padding: 0;
  border: 0;
  font-size: 100%;
  font: inherit;
  vertical-align: baseline;
}

/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure,
footer, header, hgroup, menu, nav, section {
  display: block;
}

body {
  line-height: 1;
}

ol, ul {
  list-style: none;
}

blockquote, q {
  quotes: none;
}

blockquote:before, blockquote:after,
q:before, q:after {
  content: '';
  content: none;
}

table {
  border-collapse: collapse;
  border-spacing: 0;
}

* {
  box-sizing: border-box;
}

a {
  text-decoration: none;
  color: inherit;
}

li {
  line-height: 1.9rem;
}

body {
  /* Permalink - use to edit and share this gradient: https://colorzilla.com/gradient-editor/#f5f5f5+0,ffffff+50,64b4fa+51,64b4fa+100 */
  background: #f5f5f5; /* Old browsers */
  background: -moz-linear-gradient(-45deg, #f5f5f5 0%, #ffffff 50%, #64b4fa 50%, #64b4fa 100%); /* FF3.6-15 */
  background: -webkit-linear-gradient(-45deg, #f5f5f5 0%, #ffffff 50%, #64b4fa 50%, #64b4fa 100%); /* Chrome10-25,Safari5.1-6 */
  background: linear-gradient(135deg, #f5f5f5 0%, #ffffff 50%, #64b4fa 50%, #64b4fa 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#f5f5f5', endColorstr='#64b4fa', GradientType=1); /* IE6-9 fallback on horizontal gradient */
  background-attachment: fixed;
}


/* Workaround for hljs */

pre code {
  max-width: 100%;
  font-size: 0.95rem;
  line-height: 1.4rem;
  display: block;
  overflow-x: auto;
  overflow-y: auto;
  padding: 0.5em;
  background: #282a36;
  color: #f8f8f2;
  white-space: pre-wrap;
}

figure > figcaption {
  font-size: 0.8rem;
  line-height: normal;
  font-style: italic;
  text-align: center;
}
</style><title>Ce que j'aime en Elm</title><meta name="generator" content="elm-pages v1.3.0"><link rel="canonical" href="https://www.grenat.eu/blog/ce-que-jaime-en-elm"><meta name="description" content="Elm est un langage de programmation front-end compilant en JavaScript permettant de réaliser des interfaces et des applications web. Dans cet article, j'expose les forces qui rendent ce langage addictif et surtout très productif."><meta property="og:image" content="https://www.grenat.eu/images/article-covers/elm-tree.jpg"><meta property="og:image:secure_url" content="https://www.grenat.eu/images/article-covers/elm-tree.jpg"><meta property="og:image:alt" content="Elm est un langage de programmation front-end compilant en JavaScript permettant de réaliser des interfaces et des applications web. Dans cet article, j'expose les forces qui rendent ce langage addictif et surtout très productif."><meta property="og:title" content="Ce que j'aime en Elm"><meta property="og:url" content="https://www.grenat.eu/blog/ce-que-jaime-en-elm"><meta property="og:description" content="Elm est un langage de programmation front-end compilant en JavaScript permettant de réaliser des interfaces et des applications web. Dans cet article, j'expose les forces qui rendent ce langage addictif et surtout très productif."><meta property="og:site_name" content="Jordane Grenat | Personal Website"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:title" content="Ce que j'aime en Elm"><meta property="twitter:description" content="Elm est un langage de programmation front-end compilant en JavaScript permettant de réaliser des interfaces et des applications web. Dans cet article, j'expose les forces qui rendent ce langage addictif et surtout très productif."><meta property="twitter:image" content="https://www.grenat.eu/images/article-covers/elm-tree.jpg"><meta property="twitter:image:alt" content="Elm est un langage de programmation front-end compilant en JavaScript permettant de réaliser des interfaces et des applications web. Dans cet article, j'expose les forces qui rendent ce langage addictif et surtout très productif."><meta property="og:type" content="article"><meta property="article:published_time" content="2019-09-26"></head><body><div data-url="http://localhost:8000/blog/ce-que-jaime-en-elm" display="none"></div><div class="_21dae779"><style>._21dae779 {
    height:100%;
}</style><style>html {
    height:100%;
}

body {
    height:100%;
    font-size:calc(16px + 0.2vw);
    font-family:Noto Sans, sans-serif;
}

h1 {
    font-family:Rubik, serif;
    font-size:calc(1.6rem + 2vw);
    text-align:center;
    margin-bottom:5vh;
    margin-top:1vw;
}

h2 {
    font-size:calc(1.2rem + 1vw);
    text-align:center;
    margin-bottom:3vh;
    font-weight:900;
}

.opaquePanel {
    display:block;
    background-color:rgba(255, 255, 255, 0.99);
    padding:5vh 3vw;
    max-width:900px;
    width:95%;
    margin:3vh auto;
    box-shadow:0 1px 5px 1px rgba(0, 0, 0, 0.4);
}

@media only screen and (max-width: 500px) {
    .opaquePanel {
        width:100%;
    }
}</style><div class="article"><style>.article {
    margin-top:20px;
}

.article  .article-header {
    display:flex;
    flex-wrap:wrap;
    justify-content:space-between;
    align-items:center;
    margin-bottom:2vh;
}

.article  .authorCard {
    display:flex;
    align-items:center;
    flex-grow:1;
    justify-content:flex-end;
}

.article  .authorCard-name {
    text-align:right;
    font-size:1.5rem;
    margin-bottom:1vh;
}

.article  .authorCard-biography {
    text-align:right;
    font-size:1rem;
    color:rgba(0, 0, 0, 0.7);
}

.article  .authorCard-picture {
    width:5rem;
    border-radius:50%;
    margin-left:0.9vw;
}

.article  .backLink {
    display:inline-flex;
    align-items:center;
    padding:5px;
}

.article  .backLink:hover {
    background-color:#64b4fa;
}

.article  .article-title {
    margin-bottom:2vh;
}

.article  .article-publicationDate {
    display:block;
    font-size:0.95rem;
    text-align:center;
    margin-bottom:3vh;
}

.article  .article-coverPhoto {
    width:calc(100% + 6vw);
    margin:0 -3vw 3vh;
}

.article  .article-coverPhoto > img {
    width:100%;
}

.article  .article-coverPhoto-legend {
    font-size:0.9rem;
    color:rgba(0, 0, 0, 0.7);
    text-align:center;
}

.article  .article-coverPhoto-legend > a {
    text-decoration:underline;
}

.article  .article-coverPhoto-legend > a:hover {
    color:rgb(0, 0, 0);
}

.article  .markdown {
    margin-bottom:5vh;
}

.article  .markdown  h2 {
    font-size:2.5rem;
    font-weight:900;
    text-align:left;
    margin:4vh 0 2vh;
}

.article  .markdown  h3 {
    font-size:1.8rem;
    font-weight:600;
    text-align:left;
    margin:3vh 0 1vh;
    color:rgba(0, 0, 0, 0.8);
}

.article  .markdown  p {
    margin:2.5vh 0;
    line-height:1.7rem;
    white-space:pre-wrap;
    text-align:justify;
    color:rgba(0, 0, 0, 0.8);
}

.article  .markdown  p > code {
    background-color:rgba(225, 225, 255, 0.7);
    padding:1px 3px;
    font-size:0.7em;
}

.article  .markdown  blockquote {
    border-left:5px solid rgba(5, 117, 230, 0.8);
    background-color:rgba(5, 117, 230, 0.1);
    padding:0.01vh 1vw;
    margin-left:0.5vw;
    margin-right:0.5vw;
}

.article  .markdown  strong {
    font-weight:900;
    color:rgb(0, 0, 0);
}

.article  .markdown  em {
    font-style:italic;
}

.article  .markdown  a {
    text-decoration:underline;
}

.article  .markdown  a:hover {
    text-decoration:none;
}

.article  .markdown  .thanks {
    margin-top:2vw;
    font-style:italic;
    font-size:0.8em;
    text-align:right;
}

.article  .markdown  ul {
    list-style-type:disc;
    padding-left:1rem;
    margin-left:2vh;
}

.article  .markdown  ul > li + li {
    margin-top:2vh;
}</style><div class="opaquePanel"><div class="article-header"><a class="backLink" href="/blog"><svg version="1.1" class="octicon arrowLeft" width="30" height="30" viewBox="0 0 10 16"><polygon points="6 3 0 8 6 13 6 10 10 10 10 6 6 6" fill-rule="evenodd" fill="black"></polygon></svg>Other articles</a><aside class="authorCard"><div><div class="authorCard-name">Jordane Grenat</div><p class="authorCard-biography">Web developer and software craftsman</p></div><img src="images/author/jordane.jpeg" alt="Jordane Grenat" class="authorCard-picture"></aside></div><h1 class="article-title">Ce que j'aime en Elm</h1><time class="article-publicationDate" datetime="2019-09-26">September 26th, 2019</time><figure class="article-coverPhoto"><img src="images/article-covers/elm-tree.jpg" alt="Article cover photo"></figure><div class="markdown"><div><div><p>L'arrivée en 2012 de Elm sur la scène des langages de programmation s'est faite en toute discrétion. Ce langage dédié aux interfaces et applications web et compilant en JavaScript trouve progressivement ses utilisateurs, sans pourtant être autant médiatisé que les alternatives JavaScript telles que React, AngularJS et Vue.js (qui ont bien souvent la puissance marketing d'un GAFAM derrière eux).</p>
<p>Développeur JavaScript depuis de nombreuses années lorsque j'ai découvert Elm, j'ai immédiatement été séduit par le langage mais également par son écosystème. Je vais essayer dans cet article de vous partager certains de ces points.</p>
<p><strong>TL;DR :</strong> Parcourez les titres des différentes parties 😉</p>
<div style="text-align: center"><br>    <img src="/images/elm-logo.svg" alt="Logo Elm" style="width: 250px; max-width: 100%;"><br></div>

<h2 id="la-simplicit-du-langage">La simplicité du langage</h2>
<p>Elm est simple. Le langage fait une seule chose et le fait bien : des interfaces et applications web. Très spécialisé, il contient donc le minimum d'éléments pour accomplir à bien sa mission et rien d'autre. Les dernières versions du langage ont d'ailleurs supprimé certains éléments jugés redondants, inutiles ou trop complexes. </p>
<p>Les concepteurs n'hésitent pas à réécrire d'importantes parts du langage si de nouvelles manières de faire semblent plus intuitives et plus logiques. Cela provoque évidemment d'importants <em>breaking changes</em> entre les versions, mais cela n'est pas vraiment pénalisant lors des montées de version puisque des scripts automatisant la plus grosse partie du processus sont fournis.</p>
<p>L'absence de rupture de compatibilité est l'une des grandes forces de JavaScript : un site web qui fonctionne aujourd'hui est censé toujours fonctionner correctement dans 15 ans ! C'est également malheureusement sa plus grande faiblesse : dès qu'une fonctionnalité est introduite dans le langage, elle l'est <em>ad vitam aeternam</em> ! Conçu à l'époque pour un web très différent du web que nous connaissons aujourd'hui, le langage comporte aujourd'hui de nombreux défauts (très facilement utilisés par les détracteurs du langage) qui sont malheureusement voués à y rester.</p>
<p>Mais Elm est compilé, et c'est là toute sa force ! Un code qui fonctionne aujourd'hui fonctionnera toujours dans 15 ans si on le compile avec la même version, puisqu'elle produira le même code JavaScript ! Et cela n'empêche pas les versions suivantes de corriger leurs erreurs ! On peut donc facilement retirer des éléments du langage, gardant sa taille minimale. </p>
<p>Un des effets indirects est qu'il y a en général une seule façon d'effectuer quelque chose et le développeur n'a donc pas à peser les pour et les contre de chacune des alternatives. En JavaScript au contraire, on a souvent plusieurs façons d’atteindre le même but, par exemple pour la gestion de l'asynchrone (callbacks, promises, observables, async / await, ...).</p>
<p>Selon mon expérience, <strong>un développeur n'ayant jamais fait de Elm est plus rapidement productif sur une codebase Elm qu'un développeur JavaScript sur un nouveau framework</strong>.</p>
<h2 id="la-simplicit-des-outils">La simplicité des outils</h2>
<p>Encore une fois, l'accent est mis sur la facilité pour les nouveaux arrivants. En installant Elm, l'utilisateur bénéficie de toute une gamme d'outils :</p>
<ul>
<li>un starter de projet pour initialiser rapidement un nouveau projet Elm</li>
<li>un REPL (une console interactive) pour exécuter du code Elm directement dans un terminal</li>
<li>un gestionnaire de paquets pour installer des modules et les publier</li>
<li>un environnement de développement complet capable de compiler le code à la volée</li>
<li>le compilateur du langage</li>
</ul>
<p>Et chacun de ces outils est vraiment intuitif et facile à utiliser, notamment parce qu'ils ne nécessitent <strong>aucune</strong> configuration et fonctionnent ensemble. Ils sont d'ailleurs pensés pour les humains ; voyons par exemple ce que retourne un <code>elm init</code>:</p>
<pre><code class="lang-bash">➜ project elm init
Hello! Elm projects always start with an elm.json file. I can create them!

Now you may be wondering, what will be <span class="hljs-keyword">in</span> this file? How <span class="hljs-keyword">do</span> I add Elm files to my project? How <span class="hljs-keyword">do</span> I see it <span class="hljs-keyword">in</span> the browser? How will my code grow? Do I need more directories? What about tests? Etc.

Check out &lt;https://elm-lang.org/0.19.0/init&gt; <span class="hljs-keyword">for</span> all the answers!

Knowing all that, would you like me to create an elm.json file now? [Y/n]: y
Okay, I created it. Now <span class="hljs-built_in">read</span> that link!
</code></pre>
<p>C'est souvent ce genre de message qu'on va trouver dans les outils Elm : une volonté d'expliquer ce qu'il se passe et de fournir tous les éléments nécessaires à quelqu'un débutant dans le langage pour apprendre. </p>
<p>Les erreurs du compilateur sont d'ailleurs très souvent citées pour leur côté simple et didactique :</p>
<pre><code class="lang-bash">-- TYPE MISMATCH ----------------------------------- Main.elm

I cannot <span class="hljs-keyword">do</span> addition with String values like this one:

4| <span class="hljs-string">"Hello "</span> + <span class="hljs-string">"World"</span>
   ^^^^^^^^

The (+) operator only works with Int and Float values.

Hint: Switch to the (++) operator to append strings!
</code></pre>
<p>L'erreur vous indique l'endroit du code concerné, essaye de vous expliquer le plus précisément et humainement l'erreur rencontrée et va souvent vous proposer des pistes pour la corriger. </p>
<p>Même quand l'erreur est complètement inconnue du compilateur (ce qui vous arrivera extrêmement rarement), l'idée est tout de même d'aider le développeur :</p>
<pre><code class="lang-bash">Compiling ...elm-0.19.1-beta-1-linux: ./Data/Vector/Generic/Mutable.hs:703 (modify): index out of bounds (3,3) 
CallStack (from HasCallStack): 
  error, called at ./Data/Vector/Internal/Check.hs:87:5 <span class="hljs-keyword">in</span> vector-0.12.0.3- 028020653d7b6942874e2f105e314b1f8fd65010ca5f2ea9562b9a08a2bc03f9:Data.Vector.Internal.Check 

-- ERROR ---------------------------------------------

I ran into something that bypassed the normal error reporting process! I extracted whatever information I could from the internal error: 

&gt; thread blocked indefinitely <span class="hljs-keyword">in</span> an MVar operation 

These errors are usually pretty confusing, so start by asking around on one of forums listed at https://elm-lang.org/community to see <span class="hljs-keyword">if</span> anyone can get you unstuck quickly. 

-- REQUEST -------------------------------------------

If you are feeling up to it, please try to get your code down to the smallest version that still triggers this message. Ideally <span class="hljs-keyword">in</span> a single Main.elm and elm.json file. 

From there open a NEW issue at https://github.com/elm/compiler/issues with your reduced example pasted <span class="hljs-keyword">in</span> directly. (Not a link to a repo or gist!) Do not worry about <span class="hljs-keyword">if</span> someone <span class="hljs-keyword">else</span> saw something similar. More examples is better! 

This kind of error is usually tied up <span class="hljs-keyword">in</span> larger architectural choices that are hard to change, so even when we have a couple good examples, it can take some time to resolve <span class="hljs-keyword">in</span> a solid way.
</code></pre>
<p>Elm est donc parfaitement pensé pour accompagner les débutants, mais a également réussi à rester un langage adapté aux non-débutants, puisque ces outils sont tout aussi utiles à ceux-ci.</p>
<h2 id="la-simplicit-de-l-cosyst-me">La simplicité de l'écosystème</h2>
<p>Là où <em>npm</em> s'impose comme le gestionnaire de paquets contenant le plus de modules, les packages Elm se comptent uniquement en centaines. Il y a souvent un module standard pour ce que l'on cherche à faire et le choix est donc rapide. Cela s’explique par ce que nous avons vu plus tôt : le langage offre souvent une unique façon de résoudre un problème et les solutions convergent donc sur des choix identiques.</p>
<p>Je n'ai personnellement jamais été bloqué par l'indisponibilité d'un package, notamment parce qu'il est en général facile d'utiliser également des modules JavaScript à travers <a href="https://guide.elm-lang.org/interop/ports.html">les ports en Elm</a>.</p>
<p>Et une catégorie se détache plus particulièrement, celle des packages liés à la gestion d'état ! En React il y a toujours un stade où il va falloir choisir entre Redux, MobX, gestion maison ou autre solution de gestion d'état plus ou moins dérivée de Flux. En Elm c'est plus simple : le langage gère directement l'état de l'application à travers la Elm Architecture, très proche de Redux. Et pour cause ! <a href="https://redux.js.org/introduction/prior-art#elm">Le créateur de Redux a en effet créé celui-ci en s'inspirant de Elm</a>. Étant intégrée directement dans le langage, son utilisation en Elm est d'ailleurs très intuitive.</p>
<p>On se pose donc au final très peu de questions en début de projet : on utilise ce langage framework et des packages utilisés par quasiment tous les projets Elm, sans devoir choisir entre de nombreuses solutions différentes. C'est pour moi l'un des inconvénients de React pour des équipes peu expérimentées : comme la bibliothèque couvre en elle-même peu de domaines, il faut choisir entre pas mal de solutions des choses comme la gestion d'état, les requêtes HTTP, etc.</p>
<h2 id="la-simplicit-de-refactoring">La simplicité de refactoring</h2>
<p>Comme dit plus tôt, l'une des grandes forces de Elm est son compilateur. La seconde grande force de Elm est son absence d'erreur au runtime, et elle est directement liée à la première. Oui, vous avez bien lu ! En Elm, on considère qu'un code qui compile ne va pas planter en production, et c'est effectivement ce qui se produit en réalité. Voyez par exemple ce graphique, montrant les erreurs en production sur le site de NoRedInk sur 3 ans groupées selon qu'elles proviennent de leur code Elm (200 000 lignes de code) ou de leur code JavaScript (17 000 lignes, soit 11 fois moins !) :</p>
<div style="text-align: center"><br> <img src="/images/noredink-js-elm-errors.png" alt="Ce graphique montre environ 60 000 erreurs JavaScript contre aucune erreur Elm affichée" style="max-width: 100%; width: 600px"><br> </div>

<p>Côté Elm, même si on ne voit pas la courbe, il y a environ une dizaine d'erreurs. En effet, dans les versions précédentes du langage, il était possible pour un cas jugé impossible de demander à l'application de se crasher. Et un jour un développeur s'est trompé... Cela n'est aujourd'hui même plus possible avec les nouvelles versions du langage qui vous forcent à gérer tous les cas possibles !</p>
<p>Pour en revenir à cette conclusion toute simple : en Elm, quand ça compile, ça marche ! Du coup les refactoring deviennent très agréables : on commence par faire un petit changement dans le code, puis le compilateur va nous guider pour savoir ce que l'on doit changer. Rappelez-vous : ses erreurs sont très facilement compréhensibles. Et une fois que cela compile, notre refactoring est terminé ! </p>
<p>Il devient alors très facile de modifier du code Elm, à tel point qu'on peut repousser les décisions à plus tard. Par exemple, nul besoin de choisir immédiatement l'architecture de vos fichiers : vous pouvez commencer avec un seul fichier, et le jour où ça devient trop pénible le split est facile (c'est souvent une simple histoire de copier/coller, comme en Elm tout est pur !).</p>
<p>De même, pas besoin de se lancer dans des abstractions hasardeuses, on peut décider d'attendre d'avoir plus de connaissance du métier / projet avant de réécrire certaines parties du code, avec l'assurance qu'on ne va rien oublier. </p>
<p>Cette sérénité qu'apporte le langage retire toute peur de livrer en production un bug caché parce qu'on a <em>oublié</em> de penser à certains cas. A de nombreuses occasions, cela m'a même permis de mettre en évidences des cas auquel le métier lui-même n'avait pas réfléchi !</p>
<h2 id="la-simplicit-des-d-pendances">La simplicité des dépendances</h2>
<p>Régulièrement, on peut voir passer des vulnérabilités dans les packages publiés sur <em>npm</em>. D'où que viennent ces failles (<em>npm</em>, erreur humaine, faille technique, ...), le fait est qu'il apparaît dangereux d'ajouter une dépendance à son projet sans vérifier très attentivement sa fiabilité. Et pour cela, il n'existe pas de métrique précise : doit-on regarder le nombre de personnes l'utilisant, la fréquence des mises à jour, la célébrité de l'auteur, le code source directement ?</p>
<p>Et une dépendance innocente peut en tirer une autre qui, elle, peut l'être moins ! La philosophie "publiez et importez  des centaines de petit packages spécialisés pour éviter de refaire la roue" de <em>npm</em> encourage malheureusement les arbres de dépendance profonds et il est très compliqué de pouvoir contrôler exactement ce qu'on rajoute à son projet.</p>
<p>Elm est différent dans le sens où les dépendances présentent bien moins de risques. La raison est simple : le langage est plus strict dans sa syntaxe, notamment dans sa gestion des effets secondaires. Par <em>effet secondaire</em>, je parle ici de tout ce qui peut impacter l'extérieur d'un programme : les requêtes HTTP, l'accès aux cookies, le DOM, etc. Et c'est justement via ces effets  secondaires que proviennent la plupart des vulnérabilités ! </p>
<p>En Elm, si un package installé désire utiliser une de ces fonctionnalités, cela est forcément explicite et le développeur ne peut pas l'ignorer. On sait donc quand il faut se méfier et où regarder précisément. De même, l'arbre de dépendances reste relativement plat et compréhensible.</p>
<p>Un autre aspect qui peut rebuter concerne la taille des dépendances. Un des conseils les plus donnés est de ne "pas ajouter toute une bibliothèque si on n'en utilise qu'une fonction ou deux". En effet, la nature dynamique de JavaScript rend compliqué le <em>tree-shaking</em> (la suppression automatique du code non utilisé lors du build), même si cet aspect a été quelque peu amélioré avec les modules ES6 qui peut maintenant le faire à l'échelle du fichier. Elm – lui – bénéficie de sa nature statique et permet d'effectuer du tree-shaking à l'échelle de la fonction. On n'hésite donc pas à rajouter une dépendance lorsqu'on n'en n'utilise qu'une petite partie.</p>
<h2 id="la-charge-cognitive-r-duite">La charge cognitive réduite</h2>
<p>Comme on le voit dans les sections précédentes, la <strong>simplicité</strong> est le maître mot de Elm. Grâce à ça, les choix incombant au développeur sont réduits : le tooling est standard et bien conçu, pas besoin de mettre en place une chaîne de build complexe manuellement, le choix des bibliothèques à utiliser est relativement simple et la simplicité du langage fait qu'il y a en général une seule façon d'atteindre un but.</p>
<p>De plus, le compilateur assiste le développeur tout au long du développement. En général, l'ajout d'une fonctionnalité se fait en deux temps : on commence par modifier une partie du code, puis les erreurs du compilateur vont permettre de cibler les autres modifications nécessaires. La charge cognitive s'en trouve donc fortement réduite pour le développeur qui peut donc se concentrer sur les changements en eux-mêmes plutôt que sur le fait de réfléchir à tout ce qui doit être changé.</p>
<p>Et c'est pareil pour le refactoring ! Ce qui fait que les décisions prises en début de projet peuvent être modifiées plus tard en toute <strong>confiance</strong> (et c'est là le second maître mot de Elm). On peut donc partir sur les choix les plus simples en début de projet et revenir dessus lorsqu'on possède davantage d'informations. </p>
<p>Le compilateur est donc une source de feedback sur la justesse de notre code. Rappelez-vous : <em>si ça compile, ça fonctionne</em> ! Ce feedback est instantané dans nos IDE, un développeur Elm peut donc se concentrer sur le développement et se contenter d'ouvrir le navigateur seulement lorsque le code compile, évitant ainsi beaucoup de temps perdu entre le refresh de la page, la navigation jusqu'à la fonctionnalité à tester, etc.</p>
<h2 id="la-philosophie-de-l-cosyst-me">La philosophie de l'écosystème</h2>
<p>J'aime beaucoup l'écosystème Elm dans sa façon de communiquer. Tout d'abord, tout est fait en pensant au développeur en tant qu'humain. Les outils et la documentation ont alors pour but d'accompagner celui-ci dans la découverte et l'utilisation du langage. </p>
<p>Le langage a un but précis : permettre de réaliser des interfaces et applications web. Cette volonté est présente dans toutes les décisions pour tendre au mieux vers cet objectif. Dans d'autres langages, lors de la release d'une version les annonces se concentrent généralement sur l'aspect technique : quelles sont les nouveautés, les commits, etc. En Elm, les annonces se concentrent sur ce qu'elles apportent en terme de valeur. Voici quelques exemples :</p>
<ul>
<li><a href="https://elm-lang.org/news/small-assets-without-the-headache">Small Assets without the Headache</a></li>
<li><a href="https://elm-lang.org/news/the-perfect-bug-report">The Perfect Bug Report</a></li>
<li><a href="https://elm-lang.org/news/compilers-as-assistants">Compiler as Assistants</a></li>
</ul>
<p>La communauté est également bienveillante et prompte à aider via Slack ou le Discourse et l'auteur du langage, Evan Czaplicki a donné de nombreux talks centrés non pas sur le langage lui-même, mais sur ses réflexions sur l'animation et les interactions des communautés en ligne.</p>
<h2 id="le-mot-de-la-fin">Le mot de la fin</h2>
<p>Elm est un langage qui m'a rapidement séduit et les aspects mentionnés dans cet article sont le fruit d'une longue réflexion sur ce qui me fait  apprécier le langage. Malgré mes comparaisons peu flatteuses, je tiens également à préciser que JavaScript est un langage que j'adore et que je pratique toujours aujourd'hui. Elm est cependant devenu mon langage de prédilection pour le développement front-end tant les garanties qu'il offre et l'expérience développeur sont satisfaisantes.</p>
</div></div></div><a class="backLink" href="/blog"><svg version="1.1" class="octicon arrowLeft" width="30" height="30" viewBox="0 0 10 16"><polygon points="6 3 0 8 6 13 6 10 10 10 10 6 6 6" fill-rule="evenodd" fill="black"></polygon></svg>Other articles</a></div></div></div></body></html>