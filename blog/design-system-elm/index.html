<!DOCTYPE html>
  <html lang="en">
  <head>
    <link rel="stylesheet" href="/style.css">
    
    <link rel="preload" href="/elm.js" as="script">
    <link rel="modulepreload" href="/index.js">
    
    <script defer="defer" src="/elm.js" type="text/javascript"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <script type="module">
import userInit from"/index.js";
let prefetchedPages=[window.location.pathname],initialLocationHash=document.location.hash.replace(/^#/,"");function loadContentAndInitializeApp(){let a=window.location.pathname.replace(/(w)$/,"$1/");a.endsWith("/")||(a+="/");const b=Elm.TemplateModulesBeta.init({flags:{secrets:null,baseUrl:document.baseURI,isPrerendering:!1,isDevServer:!1,isElmDebugMode:!1,contentJson:JSON.parse(document.getElementById("__ELM_PAGES_DATA__").innerHTML),userFlags:userInit.flags()}});return b.ports.toJsPort.subscribe(()=>{loadNamedAnchor()}),b}function loadNamedAnchor(){if(""!==initialLocationHash){const a=document.querySelector(`[name=${initialLocationHash}]`);a&&a.scrollIntoView()}}function prefetchIfNeeded(a){if(a.host===window.location.host&&!prefetchedPages.includes(a.pathname)){prefetchedPages.push(a.pathname),console.log("Preloading...",a.pathname);const b=document.createElement("link");b.setAttribute("as","fetch"),b.setAttribute("rel","prefetch"),b.setAttribute("href",origin+a.pathname+"/content.json"),document.head.appendChild(b)}}const appPromise=new Promise(function(a){document.addEventListener("DOMContentLoaded",()=>{a(loadContentAndInitializeApp())})});userInit.load(appPromise),"function"==typeof connect&&connect(function(a){appPromise.then(b=>{b.ports.fromJsPort.send({contentJson:a})})});const trigger_prefetch=b=>{const c=find_anchor(b.target);c&&c.href&&c.hasAttribute("elm-pages:prefetch")&&prefetchIfNeeded(c)};let mousemove_timeout;const handle_mousemove=a=>{clearTimeout(mousemove_timeout),mousemove_timeout=setTimeout(()=>{trigger_prefetch(a)},20)};addEventListener("touchstart",trigger_prefetch),addEventListener("mousemove",handle_mousemove);function find_anchor(a){for(;a&&"A"!==a.nodeName.toUpperCase();)a=a.parentNode;return a}
    </script>
    <title>ðŸ‡«ðŸ‡·   Un design system en Elm - JoGrenat's Blog</title>
    <meta name="generator" content="elm-pages v2.1.9">
    <link rel="manifest" href="/manifest.json">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <link rel="canonical" href="https://www.grenat.eu/blog/design-system-elm" />    <meta name="description" content="La mÃ©thodologie du design system apporte beaucoup au dÃ©veloppement front-end. 

Sans surprise, Elm s'est rÃ©vÃ©lÃ© particuliÃ¨rement adaptÃ© Ã  l'implÃ©mentation de cette mÃ©thodologie !" />    <meta property="og:image" content="https://www.datocms-assets.com/53557/1630943300-legos.png?fit=crop&max-h=250&max-w=800" />    <meta property="og:image:secure_url" content="https://www.datocms-assets.com/53557/1630943300-legos.png?fit=crop&max-h=250&max-w=800" />    <meta property="og:image:alt" content="ðŸ‡«ðŸ‡·   Un design system en Elm" />    <meta property="og:title" content="ðŸ‡«ðŸ‡·   Un design system en Elm" />    <meta property="og:url" content="https://www.grenat.eu/blog/design-system-elm" />    <meta property="og:description" content="La mÃ©thodologie du design system apporte beaucoup au dÃ©veloppement front-end. 

Sans surprise, Elm s'est rÃ©vÃ©lÃ© particuliÃ¨rement adaptÃ© Ã  l'implÃ©mentation de cette mÃ©thodologie !" />    <meta property="og:site_name" content="JoGrenat's Blog" />    <meta property="twitter:card" content="summary" />    <meta property="twitter:title" content="ðŸ‡«ðŸ‡·   Un design system en Elm" />    <meta property="twitter:description" content="La mÃ©thodologie du design system apporte beaucoup au dÃ©veloppement front-end. 

Sans surprise, Elm s'est rÃ©vÃ©lÃ© particuliÃ¨rement adaptÃ© Ã  l'implÃ©mentation de cette mÃ©thodologie !" />    <meta property="twitter:image" content="https://www.datocms-assets.com/53557/1630943300-legos.png?fit=crop&max-h=250&max-w=800" />    <meta property="twitter:image:alt" content="ðŸ‡«ðŸ‡·   Un design system en Elm" />    <meta property="og:type" content="website" />    <link rel="sitemap" type="application/xml" href="/sitemap.xml" />    <link rel="icon" sizes="16x16" type="image/png" href="https://www.datocms-assets.com/53557/1629202623-favicon.png?h=16&w=16" />    <link rel="icon" sizes="32x32" type="image/png" href="https://www.datocms-assets.com/53557/1629202623-favicon.png?h=32&w=32" />    <link rel="icon" sizes="96x96" type="image/png" href="https://www.datocms-assets.com/53557/1629202623-favicon.png?h=96&w=96" />    <link rel="icon" sizes="192x192" type="image/png" href="https://www.datocms-assets.com/53557/1629202623-favicon.png?h=192&w=192" />
    <script id="__ELM_PAGES_DATA__" type="application/json">{"staticData":{"420756529":"{\"items\":[{\"id\":{\"videoId\":\"V2DgGyH6D_k\"}},{\"id\":{\"videoId\":\"Zp4p7DiWMuA\"}},{\"id\":{\"videoId\":\"WToGeMIdoSY\"}},{\"id\":{\"videoId\":\"AQkCgGajhxg\"}},{\"id\":{\"videoId\":\"uFzBmBoSrS0\"}}]}","1142833480":"{\"title\":\"[Code in the Unknown] Adding a \\\"cancel\\\" action to a chess game\",\"thumbnail_height\":360,\"thumbnail_width\":480,\"thumbnail_url\":\"https://i.ytimg.com/vi/Zp4p7DiWMuA/hqdefault.jpg\",\"html\":\"<iframe width=\\\"200\\\" height=\\\"113\\\" src=\\\"https://www.youtube.com/embed/Zp4p7DiWMuA?feature=oembed\\\" frameborder=\\\"0\\\" allow=\\\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\\\" allowfullscreen title=\\\"[Code in the Unknown] Adding a &quot;cancel&quot; action to a chess game\\\"></iframe>\"}","2243736650":"{\"title\":\"Discovering Supabase, a Firebase alternative based on PostgreSQL (part 2)\",\"thumbnail_height\":360,\"thumbnail_width\":480,\"thumbnail_url\":\"https://i.ytimg.com/vi/V2DgGyH6D_k/hqdefault.jpg\",\"html\":\"<iframe width=\\\"200\\\" height=\\\"113\\\" src=\\\"https://www.youtube.com/embed/V2DgGyH6D_k?feature=oembed\\\" frameborder=\\\"0\\\" allow=\\\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\\\" allowfullscreen title=\\\"Discovering Supabase, a Firebase alternative based on PostgreSQL (part 2)\\\"></iframe>\"}","2730572102":"{\"title\":\"Creating a Elm package for DatoCMS (part 3)\",\"thumbnail_height\":360,\"thumbnail_width\":480,\"thumbnail_url\":\"https://i.ytimg.com/vi/uFzBmBoSrS0/hqdefault.jpg\",\"html\":\"<iframe width=\\\"200\\\" height=\\\"113\\\" src=\\\"https://www.youtube.com/embed/uFzBmBoSrS0?feature=oembed\\\" frameborder=\\\"0\\\" allow=\\\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\\\" allowfullscreen title=\\\"Creating a Elm package for DatoCMS (part 3)\\\"></iframe>\"}","2814011531":"{\"data\":{\"homePage\":{\"picture\":{\"url4062855192\":\"https://www.datocms-assets.com/53557/1630943458-profil-200.jpg?crop64=Zm9jYWxwb2ludCxmYWNlcyxlbnRyb3B5&fit=crop&h=80&mask=ellipse&w=80\"},\"introductionText12867311\":\"Passionate web developer, caring for user experience and code quality. In this blog, I share my discoveries and reflexions.\"},\"article3313220010\":{\"name1875757806\":\"\uD83C\uDDEB\uD83C\uDDF7   Un design system en Elm\",\"banner\":{\"url1984142787\":\"https://www.datocms-assets.com/53557/1630943300-legos.png?fit=crop&max-h=250&max-w=800\"},\"content103746919\":{\"value3343696236\":{\"schema\":\"dast\",\"document\":{\"type\":\"root\",\"children\":[{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Dans ma bo\u00EEte, nous avons r\u00E9cemment d\u00E9marr\u00E9 notre premier projet Elm pour un client. Je ne l'avais jusqu'\u00E0 pr\u00E9sent utilis\u00E9 que pour des projets personnels ou des projets internes. Collaborant avec un graphiste et fort de mes exp\u00E9riences pr\u00E9c\u00E9dentes dans le monde JavaScript, j'ai tout de suite opt\u00E9 pour la m\u00E9thodologie du Design System.\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"L'id\u00E9e est simple : plut\u00F4t que de travailler sur des pages enti\u00E8res, on va travailler sur les diff\u00E9rents composants de nos pages. Ces composants sont d\u00E9velopp\u00E9s ind\u00E9pendamment les uns des autres avec une collaboration forte entre un designer et un d\u00E9veloppeur. Le design system centralise ensuite toutes les r\u00E8gles et propri\u00E9t\u00E9s du projet (couleurs, espacements, typographies, etc.) ainsi que les composants sous leurs diff\u00E9rents \u00E9tats.\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Cet article n'\u00E9tant pas destin\u00E9 \u00E0 rentrer dans les d\u00E9tails de la m\u00E9thodologie en elle-m\u00EAme, je vous redirige vers cet excellent talk o\u00F9 C\u00E9cile Freyd-Foucault et Florent Berthelot l'expliquent point par point : \"},{\"url\":\"https://www.youtube.com/watch?v=jXcO7Qu1Gjs\",\"type\":\"link\",\"children\":[{\"type\":\"span\",\"value\":\"Designers, d\u00E9veloppeurs, cr\u00E9ons la diff\u00E9rence !\"}]}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Ce qu'il faut retenir pour la suite de cet article, c'est qu'on essaye de centraliser au maximum les r\u00E8gles et composants graphiques de notre site pour l'exposer dans un endroit facilement accessible.\"}]},{\"type\":\"heading\",\"level\":2,\"children\":[{\"type\":\"span\",\"value\":\"Design system en Elm\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"J'\u00E9tais assez curieux de voir ce que donnerait cette approche en Elm. L'id\u00E9e d'avoir un langage fonctionnel dans lequel tout est pur et centr\u00E9 autour de fonctions r\u00E9utilisables me semblait parfaitement correspondre. Et comme je le pensais, Elm s'est r\u00E9v\u00E9l\u00E9 id\u00E9al pour impl\u00E9menter un design system !\"}]},{\"type\":\"blockquote\",\"children\":[{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Avant d'aller plus loin, il me faut cependant \u00E9claircir un point. Je vais parler dans la suite de cet article de \"},{\"type\":\"span\",\"marks\":[\"strong\"],\"value\":\"composants\"},{\"type\":\"span\",\"value\":\". Ce terme d\u00E9signe un \u00E9l\u00E9ment visuellement distinct dans une page web, comme par exemple une carte dans une liste, un tableau dans une page, etc. Dans le monde JavaScript, ce terme a tendance \u00E0 signifier quelque chose de similaire, mais avec une particularit\u00E9 suppl\u00E9mentaire : les composants g\u00E8rent en g\u00E9n\u00E9ral un \u00E9tat interne invisible de l'ext\u00E9rieur. En Elm, on cherchera \u00E0 \u00E9viter au maximum les composants ayant un \u00E9tat interne pour privil\u00E9gier au maximum les fonctions pures.\"}]}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Nous avions plusieurs choix techniques possibles pour cr\u00E9er nos r\u00E8gles et composants :\"}]},{\"type\":\"list\",\"style\":\"bulleted\",\"children\":[{\"type\":\"listItem\",\"children\":[{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"utiliser la biblioth\u00E8que standard \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"elm/html\"},{\"type\":\"span\",\"value\":\" avec un fichier CSS et des classes suivant \"},{\"url\":\"https://www.alsacreations.com/article/lire/1641-bonnes-pratiques-en-css-bem-et-oocss.html\",\"type\":\"link\",\"children\":[{\"type\":\"span\",\"value\":\"les m\u00E9thodologies OOCSS ou BEM\"}]}]}]},{\"type\":\"listItem\",\"children\":[{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"utiliser \"},{\"url\":\"https://package.elm-lang.org/packages/mdgriffith/elm-ui/latest/\",\"type\":\"link\",\"children\":[{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"mdgriffith/elm-ui\"}]},{\"type\":\"span\",\"value\":\" avec son approche sans CSS\"}]}]},{\"type\":\"listItem\",\"children\":[{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"utiliser \"},{\"url\":\"https://package.elm-lang.org/packages/rtfeldman/elm-css/latest/\",\"type\":\"link\",\"children\":[{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"rtfeldman/elm-css\"}]},{\"type\":\"span\",\"value\":\" qui propose une approche int\u00E9ressante de CSS typ\u00E9 nous orientant vers du \"},{\"type\":\"span\",\"marks\":[\"emphasis\"],\"value\":\"CSS in Elm\"}]}]}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"La curiosit\u00E9 pour cette derni\u00E8re solution a jou\u00E9 un grand r\u00F4le dans le choix malgr\u00E9 ma r\u00E9ticence l\u00E9gendaire pour les solutions de \"},{\"type\":\"span\",\"marks\":[\"emphasis\"],\"value\":\"CSS in JavaScript\"},{\"type\":\"span\",\"value\":\". La premi\u00E8re alternative \u00E9tait tr\u00E8s semblable \u00E0 celle que j'ai l'habitude de suivre en JavaScript et je souhaitais changer pour ce projet. Quant \u00E0 la deuxi\u00E8me option, j'avais d\u00E9j\u00E0 eu l'occasion d'utiliser un peu \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"elm-ui\"},{\"type\":\"span\",\"value\":\" et avait eu le sentiment qu'il r\u00E9glait un probl\u00E8me que je n'avais personnellement pas : j'ai toujours appr\u00E9ci\u00E9 le CSS et ses possibilit\u00E9s et me sentais un peu contraint par le champs r\u00E9duit des possibles d'\"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"elm-ui\"},{\"type\":\"span\",\"value\":\".\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Nous sommes donc partis sur le fait d'utiliser \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"elm-css\"},{\"type\":\"span\",\"value\":\" avec ces quelques r\u00E8gles simples :\"}]},{\"type\":\"list\",\"style\":\"bulleted\",\"children\":[{\"type\":\"listItem\",\"children\":[{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"chaque composant (ou groupe de composants) a son propre fichier Elm dans lequel on peut trouver le composant et le CSS correspondant\"}]}]},{\"type\":\"listItem\",\"children\":[{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"ce CSS est d\u00E9fini de fa\u00E7on globale, c'est-\u00E0-dire qu'il g\u00E9n\u00E8re une feuille de style CSS propre (par opposition au fait de n'utiliser que des styles \"},{\"type\":\"span\",\"marks\":[\"emphasis\"],\"value\":\"inline\"},{\"type\":\"span\",\"value\":\", autre possibilit\u00E9 de \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"elm-css\"},{\"type\":\"span\",\"value\":\")\"}]}]},{\"type\":\"listItem\",\"children\":[{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"les couleurs, typographies et espacements sont dans leur module propre\"}]}]},{\"type\":\"listItem\",\"children\":[{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"nos composants doivent \u00EAtre composables : chacun d'eux prend une liste d'attributs et d'enfants comme le ferait n'importe quelle fonction de \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"elm/html\"}]}]}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Petit exemple pour un bouton :\"}]},{\"code\":\"button : ButtonType -> ButtonSize -> List (Html.Attribute msg) -> List (Html msg) -> Html msg  \\nbutton buttonType buttonSize attributes content =  \\n    let  \\n        typeClass =  \\n            class (getTypeClass buttonType)  \\n      \\n        sizeClass =  \\n            class (getSizeClass buttonSize)  \\n\\tin  \\n\\tHtml.button  \\n        ([ class \\\"button\\\", typeClass, sizeClass ] ++ attributes)  \\n        content\\n\\nstyles : List Css.Snippet  \\nstyles =  \\n    [ Css.Global.class \\\"button\\\"  \\n        [ borderRadius (px 3)  \\n        , textTransform uppercase  \\n        , cursor pointer    \\n        , textAlign center  \\n        , withClass \\\"button--primary\\\"  \\n            [ backgroundColor Colors.primary  \\n            , color Colors.colorOnPrimary  \\n            ]    \\n        , withClass \\\"button--large\\\"  \\n            [ padding2 (px 10) (px 16)  \\n            ]\\n        -- ... \\t\\n        ]\\n    ]\",\"type\":\"code\",\"language\":\"elm\"},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"On voit qu'on a un bouton g\u00E9n\u00E9rique qu'on peut personnaliser avec deux options : son type (primaire, secondaire, ...) et sa taille (large, medium, petit). Avec des fonctions Elm, c'est tr\u00E8s simple \u00E0 r\u00E9aliser et les types nous aident \u00E0 limiter les choix possibles !\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Les styles sont d\u00E9finis \u00E0 part puis centralis\u00E9s entre composants et ins\u00E9r\u00E9s une fois dans la page.\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Une am\u00E9lioration possible de ce code serait de typer nos classes pour \u00E9viter les erreurs d'inattention, mais nous n'avons pas encore ressenti le besoin d'aller jusque l\u00E0 :\"}]},{\"code\":\"type ButtonClass =\\n    Button\\n    | ButtonPrimary\\n    | ButtonSecondary\\n    | ButtonLarge\\n\\nbuttonClassToClass : ButtonClass -> Html.Attribute msg\\nbuttonClassToClass buttonClass = \\n    case buttonClass of \\n        Button ->\\n            class \\\"button\\\"\\n        ButtonPrimary ->\\n            class \\\"button--primary\\\"\\n        ButtonSecondary ->\\n            class \\\"button--secondary\\\"\\n        ButtonLarge ->\\n            class \\\"button--large\\\"\",\"type\":\"code\",\"language\":\"elm\"},{\"type\":\"heading\",\"level\":2,\"children\":[{\"type\":\"span\",\"value\":\"Les \u00E9l\u00E9ments de base\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Un design system commence en g\u00E9n\u00E9ral par les atomes, les \u00E9l\u00E9ments les plus simples. Nous avons donc commenc\u00E9 par cr\u00E9er un fichier \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"Colors\"},{\"type\":\"span\",\"value\":\" contenant toutes les couleurs de notre projet selon leur s\u00E9mantique :\"}]},{\"code\":\"borderLight : Color  \\nborderLight =  \\n    rgba 0 0 0 0.12\\n\\n-- ... \\n\\nfieldBorder : Color  \\nfieldBorder =  \\n    borderLight\",\"type\":\"code\",\"language\":\"elm\"},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Viennent ensuite les textes. Nous avons choisi d'utiliser une unique fonction pour tous les textes de l'application afin de centraliser toutes les possibilit\u00E9s. Cette fonction s'appelle \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"typography\"},{\"type\":\"span\",\"value\":\" et est utilis\u00E9e aussi bien dans nos pages que dans nos composants. L'astuce est que cette fonction prend deux arguments essentiels : le type de texte et la balise \u00E0 utiliser :\"}]},{\"code\":\"type TypographyType  \\n    = Title1  \\n    | Title2  \\n    | Paragraph1\\n    | Paragraph2\\n    | Error\\n\\ntype alias Tag = \\n    List (Html.Attribute msg) -> List (Html msg) -> Html msg\\n\\ntypography : TypographyType -> Tag -> List (Html.Attribute msg) -> String -> Html msg  \\ntypography typographyType tagFunction attributes content =  \\n    let  \\n        className =  \\n            getClassName typographyType  \\n    in  \\n        tagFunction (class className :: attributes) [ text content ]\\n\\n-- Exemple d'utilisation :\\n\\nmyTitle =\\n\\ttypography Title1 h2 [] \\\"My title\\\"\",\"type\":\"code\",\"language\":\"elm\"},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"L'avantage est qu'on peut combiner tr\u00E8s facilement style et s\u00E9mantique : on peut notamment respecter la hi\u00E9rarchie \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"h1\"},{\"type\":\"span\",\"value\":\", \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"h2\"},{\"type\":\"span\",\"value\":\", etc. sans \u00EAtre contraint au niveau de l'apparence du texte.\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"De m\u00EAme, les espacements sont codifi\u00E9s pour avoir un style plus uniforme sur le site :\"}]},{\"code\":\"type SpacingSize  \\n    = NoSpace | XXS | XS | S | M | L | XL  \\n  \\nspacing : SpacingSize -> Px  \\nspacing spacingSize =  \\n    case spacingSize of  \\n        NoSpace ->  \\n            px 0  \\n        XXS ->  \\n            px 4  \\n        XS ->  \\n            px 8  \\n        S ->  \\n            px 16  \\n        M ->  \\n            px 24  \\n        L ->  \\n            px 40  \\n        XL ->  \\n            px 60\\n\\n-- Exemple d'utilisation (avec elm-css) :\\n\\nmyTitle =\\n    typography Title1 h2 \\n        [ css [ marginTop (spacing M) ] ] \\n        \\\"My title\\\"\",\"type\":\"code\",\"language\":\"elm\"},{\"type\":\"heading\",\"level\":2,\"children\":[{\"type\":\"span\",\"value\":\"Diff\u00E9rentes approches de composants\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Pour les gens issus des univers React, Angular ou autre, le r\u00E9flexe de penser en composants est profond\u00E9ment ancr\u00E9. En Elm cela est tout \u00E0 fait valable mais il faut en g\u00E9n\u00E9ral un peu de temps pour comprendre que la d\u00E9finition de composant diff\u00E8re consid\u00E9rablement : un composant, ce n'est pas forc\u00E9ment un \u00E9l\u00E9ment avec un \u00E9tat interne capable de g\u00E9rer lui-m\u00EAme ses mises \u00E0 jour.\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Comme nous l'avons vu plus haut, un composant peut \u00EAtre une simple fonction ! Et j'irai m\u00EAme plus loin en disant que si vous le pouvez, essayez au maximum de repr\u00E9senter vos composants par une fonction, c'est de loin le type de composants le plus facile \u00E0 utiliser.\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Mais cela ne suffit pas toujours et voici les diff\u00E9rents cas que j'ai pu identifier :\"}]},{\"type\":\"list\",\"style\":\"bulleted\",\"children\":[{\"type\":\"listItem\",\"children\":[{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"mon composant n'a pas d'\u00E9tat interne\"}]}]},{\"type\":\"listItem\",\"children\":[{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"mon composant a un \u00E9tat interne mais pas d'effet secondaire\"}]}]},{\"type\":\"listItem\",\"children\":[{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"mon composant a des effets secondaires internes\"}]}]}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Je vais revenir sur chacun de ces cas.\"}]},{\"type\":\"heading\",\"level\":3,\"children\":[{\"type\":\"span\",\"value\":\"Mon composant n'a pas d'\u00E9tat interne\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Si votre composant n'a pas d'\u00E9tat \u00E0 g\u00E9rer, c'est de loin le plus simple ! C'est le cas du bouton vu plus haut, qui d\u00E9l\u00E8gue \u00E0 celui qui l'utilise la gestion du clic :\"}]},{\"code\":\"backButton =\\n\\tbutton Secondary Large \\n\\t    [ type_ \\\"button\\\", onClick Back ] \\n\\t    [ text \\\"Back\\\" ]\",\"type\":\"code\",\"language\":\"elm\"},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Mais par extension, un composant peut ne pas avoir d'\u00E9tat interne parce qu'il est tout \u00E0 fait l\u00E9gitime que le parent soit en charge de cet \u00E9tat ! Par exemple, nous avons un bouton qui affiche un loader et se d\u00E9sactive une fois cliqu\u00E9. Pour les requ\u00EAtes HTTP, nous utilisons\"},{\"url\":\"https://package.elm-lang.org/packages/krisajenkins/remotedata/latest/RemoteData\",\"type\":\"link\",\"children\":[{\"type\":\"span\",\"value\":\"krisajenkins/remotedata\"}]},{\"type\":\"span\",\"value\":\" sur toute notre application, et donc nous l'utilisons \u00E9galement pour l'\u00E9tat de notre bouton :\"}]},{\"code\":\"buttonWithStatus : RemoteData e a -> List (Html.Attribute msg) -> List (Html msg) -> Html msg  \\nbuttonWithStatus status attributes content =  \\n    Html.button  \\n        ([ class \\\"button\\\"  \\n         , classList [ ( \\\"button--loading\\\", RemoteData.isLoading status ) ]  \\n         , disabled ( RemoteData.isLoading status )  \\n         ]  ++ attributes  \\n        )  \\n        (case status of  \\n            Loading ->  \\n                loader  \\n            _ ->  \\n                content  \\n        )\",\"type\":\"code\",\"language\":\"elm\"},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Comme le composant parent poss\u00E8de la responsabilit\u00E9 sur l'action effectu\u00E9e, nul besoin d'avoir ce \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"RemoteData\"},{\"type\":\"span\",\"value\":\" dans l'\u00E9tat de notre composant, c'est un argument comme un autre !\"}]},{\"type\":\"heading\",\"level\":3,\"children\":[{\"type\":\"span\",\"value\":\"Mon composant a un \u00E9tat interne mais pas d'effets secondaires\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Certains de nos composants ont tout de m\u00EAme besoin de garder un \u00E9tat interne qui ne devrait pas \u00EAtre stock\u00E9 dans un composant parent. Par exemple, nos champs texte conservent toujours deux valeurs dans leur \u00E9tat interne : la valeur actuelle du champ et une valeur indiquant si l'utilisateur a d\u00E9j\u00E0 interagi avec le champ.\"}]},{\"code\":\"module Input exposing (InputModel)\\n\\ntype InputModel  \\n    = InputModel { value : String, touchStatus : TouchStatus }\",\"type\":\"code\",\"language\":\"elm\"},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Une bonne pratique, comme on le voit ci-dessus, est d'utiliser un type opaque : notre module expose le type \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"InputModel\"},{\"type\":\"span\",\"value\":\" mais pas le constructeur \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"InputModel\"},{\"type\":\"span\",\"value\":\" (la nuance est importante, exposer le constructeur se ferait en modifiant la premi\u00E8re ligne : \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"module Input exposing (InputModel(..))\"},{\"type\":\"span\",\"value\":\").\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Cela signifie qu'en dehors de notre fichier, le d\u00E9veloppeur n'est pas capable de modifier lui-m\u00EAme cet \u00E9tat ou d'en cr\u00E9er un : le composant est le seul responsable de son \u00E9tat interne.\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Souvent, on voit que dans ces cas l\u00E0 les d\u00E9veloppeurs Elm vont remettre en place une mini TEA dans le composant en lui cr\u00E9ant une fonction \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"init\"},{\"type\":\"span\",\"value\":\", \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"update\"},{\"type\":\"span\",\"value\":\", \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"view\"},{\"type\":\"span\",\"value\":\" ainsi que des messages. Or, si effectivement il faut une fa\u00E7on d'initialiser le mod\u00E8le et une fa\u00E7on de l'afficher, il n'est pas n\u00E9cessaire d'avoir une fonction d'\"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"update\"},{\"type\":\"span\",\"value\":\" ou des messages si votre composant n'a pas d'effet secondaire !\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Pour cela, on va renvoyer le nouveau mod\u00E8le directement dans le message g\u00E9n\u00E9r\u00E9, en demandant en argument suppl\u00E9mentaire un message dans lequel le stocker. Voici l'exemple :\"}]},{\"code\":\"input : String -> InputModel -> (InputModel -> msg) -> List (Html.Attribute msg) -> Html msg\\ninput inputName (InputModel model) toMsg attributes =  \\n    input  \\n        [ class \\\"input\\\"  \\n        , type_ \\\"text\\\"  \\n        , name inputName\\n        , Attributes.value model.value\\n        , onInput (\\\\newValue -> toMsg ( InputModel { model | value = newValue } ))\\n        ]  \\n        []\",\"type\":\"code\",\"language\":\"elm\"},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"marks\":[\"emphasis\"],\"value\":\"(Ceci est un exemple tr\u00E8s simplifi\u00E9 : notre composant \"},{\"type\":\"span\",\"marks\":[\"code\",\"emphasis\"],\"value\":\"input\"},{\"type\":\"span\",\"marks\":[\"emphasis\"],\"value\":\" g\u00E8re en r\u00E9alit\u00E9 beaucoup plus de choses : un label, des erreurs, l'\u00E9tat activ\u00E9 / d\u00E9sactiv\u00E9, etc.)\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"On voit qu'on peut ainsi retourner directement \u00E0 l'utilisateur le mod\u00E8le modifi\u00E9, ce qui est plus simple des deux c\u00F4t\u00E9s puisqu'on n'a pas besoin d'utiliser de \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"Html.map\"},{\"type\":\"span\",\"value\":\" ou d'appeler une fonction d'\"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"update\"},{\"type\":\"span\",\"value\":\" pour le composant :\"}]},{\"code\":\"type alias Model = \\n    { inputModel : Input.InputModel }\\n\\ninit : Model \\ninit = \\n    { inputModel = Input.emptyInput }\\n\\ntype Msg =\\n    InputChanged Input.Model\\n\\nupdate : Msg -> Model -> Model\\nupdate msg model = \\n    case msg of\\n        InputChanged newModel ->\\n            { model | inputModel = newModel }\\n\\t\\nview : Model -> Html msg\\nview model =\\n    Input.input \\\"myInput\\\" model.inputModel InputChanged [] []\",\"type\":\"code\",\"language\":\"elm\"},{\"type\":\"heading\",\"level\":3,\"children\":[{\"type\":\"span\",\"value\":\"Mon composant a un \u00E9tat interne et des effets secondaires\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Si votre composant a des effets secondaires qui sont de sa responsabilit\u00E9 propre (et qui n'ont donc pas vocation a \u00EAtre g\u00E9r\u00E9s par le parent), il faudra utiliser une forme plus complexe et embarquer une mini Elm Architecture dans votre composant.\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Comprenez bien qu'on sort ici l'artillerie lourde : votre composant g\u00E8re beaucoup plus de responsabilit\u00E9 et devient d'autant moins facile \u00E0 utiliser. C'est donc la solution \u00E0 n'utiliser que lorsque le besoin le justifie.\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"C'est le cas pour notre slider par exemple, dont voici les types expos\u00E9s (le code \u00E9tant trop long) :\"}]},{\"code\":\"type Model -- Model un type opaque\\n\\ntype Msg -- Msg est un type opaque\\n\\ninit : Float -> Float -> Float -> Model\\n\\nupdate : Msg -> Model -> (Model, Cmd Msg)\\n\\nview : Model -> Msg\\n\\nsubscriptions : Model -> Sub Msg\\n\\nvalue : Model -> Float\",\"type\":\"code\",\"language\":\"elm\"},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"On reconna\u00EEt ici une \"},{\"url\":\"https://guide.elm-lang.org/architecture/\",\"type\":\"link\",\"children\":[{\"type\":\"span\",\"value\":\"Elm Architecture\"}]},{\"type\":\"span\",\"value\":\". L'\"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"init\"},{\"type\":\"span\",\"value\":\" prend trois \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"Float\"},{\"type\":\"span\",\"value\":\" en argument : la valeur initiale, la valeur minimale et la valeur maximale. On re\u00E7oit en retour un Model qui est un type opaque. La seule fa\u00E7on de cr\u00E9er et donc d'utiliser notre composant est donc de passer par cette fonction.\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Les fonctions \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"update\"},{\"type\":\"span\",\"value\":\", \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"view\"},{\"type\":\"span\",\"value\":\" et \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"subscriptions\"},{\"type\":\"span\",\"value\":\" sont standards, mais vont produire des messages de type \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"Slider.Msg\"},{\"type\":\"span\",\"value\":\". Cela signifie que celui qui va les utiliser devra les \"},{\"type\":\"span\",\"marks\":[\"emphasis\"],\"value\":\"envelopper\"},{\"type\":\"span\",\"value\":\" dans un message \u00E0 lui :\"}]},{\"code\":\"type Msg  \\n    = MessageFromSlider Slider.Msg  \\n\\ntype alias Model =  \\n    { sliderModel : Slider.Model }  \\n\\nupdate : Msg -> Model -> ( Model, Cmd Msg )  \\nupdate msg model =  \\n    case msg of  \\n        MessageFromSlider sliderMsg ->  \\n            let  \\n                ( newSliderModel, sliderCmd ) =  \\n                    Slider.update msg model.sliderModel  \\n            in    \\n            ( { model | sliderModel = newSliderModel }  \\n            , Cmd.map MessageFromSlider sliderCmd  \\n            )\\n\\nview : Model -> Html Msg  \\nview model =  \\n    div []  \\n        [ Slider.view model.sliderModel  \\n            |> Html.map MessageFromSlider  \\n        ]\\n          \\nsubscriptions : Model -> Sub Msg  \\nsubscriptions model =  \\n    Slider.subscriptions model.sliderModel  \\n        |> Sub.map MessageFromSlider\",\"type\":\"code\",\"language\":\"elm\"},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"On enveloppe les messages du slider dans un message personnalis\u00E9 gr\u00E2ce aux fonctions \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"Cmd.map\"},{\"type\":\"span\",\"value\":\", \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"Html.map\"},{\"type\":\"span\",\"value\":\" et \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"Sub.map\"},{\"type\":\"span\",\"value\":\". On obtiendra ainsi un message \"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"MessageFromSlider\"},{\"type\":\"span\",\"value\":\" qui contient le message du slider. On se charge nous-m\u00EAme de transmettre ce message ainsi que le mod\u00E8le \u00E0 la fonction d'\"},{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"update\"},{\"type\":\"span\",\"value\":\" du slider.\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Comme on peut le voir, c'est une approche qui n\u00E9cessite pas mal de code et qui est donc assez lourde. C'est pourquoi il est souvent recommand\u00E9 de simplifier au maximum ses composants quand c'est possible. C'est un r\u00E9flexe parfois dur \u00E0 prendre quand on vient des frameworks JavaScript qui ont tendance \u00E0 consid\u00E9rer que tout est un composant ind\u00E9pendant.\"}]},{\"type\":\"heading\",\"level\":2,\"children\":[{\"type\":\"span\",\"value\":\"Concr\u00E9tiser son design system\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"R\u00E9utiliser des composants et les lister dans son code, c'est tr\u00E8s bien, mais c'est encore mieux quand on dispose d'une galerie permettant de les passer en revue ! Pour cela, j'ai utilis\u00E9 le package \"},{\"url\":\"https://package.elm-lang.org/packages/kalutheo/elm-ui-explorer/latest\",\"type\":\"link\",\"children\":[{\"type\":\"span\",\"marks\":[\"code\"],\"value\":\"elm-ui-explorer\"}]},{\"type\":\"span\",\"value\":\" de Th\u00E9ophile Kalumbu, un \u00E9quivalent plus simple de \"},{\"url\":\"https://storybook-design-system.netlify.com/?path=/docs/design-system-intro--page\",\"type\":\"link\",\"children\":[{\"type\":\"span\",\"value\":\"Storybook\"}]},{\"type\":\"span\",\"value\":\" dans l'univers JavaScript.\"}]},{\"type\":\"paragraph\",\"children\":[{\"url\":\"https://kalutheo.github.io/elm-ui-explorer/examples/dsm/index.html#Getting%20Started/About/About\",\"type\":\"link\",\"children\":[{\"type\":\"span\",\"value\":\"Voici un exemple d'un design system avec elm-ui-explorer\"}]}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Les avantages d'avoir cette galerie sont multiples. Premi\u00E8rement, ils facilitent la discussion avec votre designer en se penchant directement sur l'impl\u00E9mentation que vous avez faite. Ils aident aussi les d\u00E9veloppeurs lorsqu'ils ont besoin de retrouver des composants ou de revoir les diff\u00E9rentes capacit\u00E9s de leurs composants. Pendant la phase de d\u00E9veloppement, cela offre aussi l'\u00E9norme avantage de tester ses composants en totale isolation du reste du code, permettant ainsi de trouver des bugs visuels ou logiques qui auraient \u00E9t\u00E9 durs \u00E0 d\u00E9tecter autrement.\"}]},{\"type\":\"heading\",\"level\":2,\"children\":[{\"type\":\"span\",\"value\":\"Conclusion\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Les design system c'est bien. Permettant d'harmoniser l'apparence visuelle de votre site, ils ont surtout de nombreux avantages lors du d\u00E9veloppement d'un site internet : ils facilitent la cr\u00E9ation de nouvelles pages, rendent plus productive la collaboration d\u00E9veloppeur / designer et permettent de d\u00E9tecter plus rapidement des r\u00E9gressions dans les composants de votre site.\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"En Elm, c'est tr\u00E8s pratique. Comme tout est pur dans ce langage, sortir un composant pour le rendre r\u00E9utilisable est \u00E0 peu de choses pr\u00E8s aussi simple qu'un copier / coller. Et une fois ces composants cr\u00E9\u00E9s, les grands atouts du langages interviennent \u00E9galement : ils sont faciles \u00E0 refactorer et simples \u00E0 faire \u00E9voluer puisque le compilateur sera l\u00E0 pour assurer vos arri\u00E8res.\"}]},{\"type\":\"paragraph\",\"children\":[{\"type\":\"span\",\"value\":\"Cette premi\u00E8re exp\u00E9rience de design system en Elm a \u00E9t\u00E9 pour moi extr\u00EAmement positive ! Ce n'\u00E9tait ni mon premier projet Elm, ni mon premier design system, mais la combinaison des deux s'est r\u00E9v\u00E9l\u00E9e extr\u00EAmement productive. Si cet article a r\u00E9ussi \u00E0 vous convaincre, c'est \u00E0 vous de jouer maintenant !\"}]}]}},\"blocks\":[],\"links\":[]},\"description12867311\":\"La m\u00E9thodologie du design system apporte beaucoup au d\u00E9veloppement front-end. \\n\\nSans surprise, Elm s'est r\u00E9v\u00E9l\u00E9 particuli\u00E8rement adapt\u00E9 \u00E0 l'impl\u00E9mentation de cette m\u00E9thodologie !\",\"bannerAttribution\":[]}}}","2886442429":"{\"title\":\"Discovering Supabase, a Firebase alternative based on PostgreSQL\",\"thumbnail_height\":360,\"thumbnail_width\":480,\"thumbnail_url\":\"https://i.ytimg.com/vi/WToGeMIdoSY/hqdefault.jpg\",\"html\":\"<iframe width=\\\"200\\\" height=\\\"113\\\" src=\\\"https://www.youtube.com/embed/WToGeMIdoSY?feature=oembed\\\" frameborder=\\\"0\\\" allow=\\\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\\\" allowfullscreen title=\\\"Discovering Supabase, a Firebase alternative based on PostgreSQL\\\"></iframe>\"}","2986682595":"{\"title\":\"Creating a Elm package for DatoCMS (last part)\",\"thumbnail_height\":360,\"thumbnail_width\":480,\"thumbnail_url\":\"https://i.ytimg.com/vi/AQkCgGajhxg/hqdefault.jpg\",\"html\":\"<iframe width=\\\"200\\\" height=\\\"113\\\" src=\\\"https://www.youtube.com/embed/AQkCgGajhxg?feature=oembed\\\" frameborder=\\\"0\\\" allow=\\\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\\\" allowfullscreen title=\\\"Creating a Elm package for DatoCMS (last part)\\\"></iframe>\"}","3644372390":"{\"data\":{\"websiteConfiguration\":{\"name12867311\":\"JoGrenat's Blog\",\"youtubeChannelId12867311\":\"UCROJRWWGrrTmgGF1Wo9OX5w\",\"twitterIcon\":{\"url3832528868\":\"https://www.datocms-assets.com/53557/1632324226-twitterbird.svg\"},\"footerText12867311\":\"*Blog powered by [elm-pages](https://elm-pages.com/)*\"},\"_site\":{\"globalSeo\":{\"fallbackSeo\":{\"image\":{\"url1831060520\":\"https://www.datocms-assets.com/53557/1632838280-capture-d-ecran-2021-09-28-a-16-11-09.png?fit=fill&max-h=150&max-w=300\"}}}}}}"},"is404":false,"path":"blog/design-system-elm"}</script>
    </head>
    <body>
      <div data-url="" display="none"></div>
      <div><span class="elm-css-style-wrapper" style="display: none;"><style></style></span><span class="elm-css-style-wrapper" style="display: none;"><style>.footer{padding-top:0;padding-bottom:0;font-size:1rem;}
.footerContent{margin:1rem 0;}
.footerContent  h2{font-size:2.2rem;font-weight:900;text-align:left;margin:3.5rem 0 1rem;}
.footerContent  h3{font-size:1.8rem;font-weight:600;text-align:left;margin:3vh 0 1vh;color:rgba(0,0,0,0.8);}
.footerContent  h4{font-size:1.2rem;font-weight:200;text-align:left;margin:2vh 0 1vh;color:rgba(0,0,0,0.6);}
.footerContent  p{margin:2.5rem 0;line-height:2rem;white-space:pre-wrap;text-align:justify;color:rgba(0,0,0,0.8);}
.footerContent  p > code{background-color:rgba(225,225,255,0.7);padding:1px 3px;font-size:0.7em;}
.footerContent  blockquote{border-left:5px solid rgba(5,117,230,0.8);background-color:rgba(5,117,230,0.1);padding:0.01vh 1vw;max-width:650px;margin:2.5rem auto;}
@media only screen and (max-width: 600px){.footerContent  blockquote{border-left:0;border-top:5px solid rgba(5,117,230,0.8);padding:0.01vh 3vw;}}
.footerContent  blockquote > p:first-child{margin-top:1rem;}
.footerContent  blockquote > p:last-child{margin-bottom:1rem;}
.footerContent  strong{font-weight:900;color:rgb(0,0,0);}
.footerContent  em{font-style:italic;}
.footerContent  a{text-decoration:underline;}
.footerContent  a:hover{text-decoration:none;}
.footerContent  .thanks{margin-top:2vw;font-style:italic;font-size:0.8em;text-align:right;}
.footerContent  ul{list-style-type:disc;padding-left:1rem;margin-left:2vh;}
.footerContent  ul > li + li{margin-top:2vh;}
.footerContent  pre{max-width:100%;overflow-y:scroll;}
.footerContent  code{line-height:1.7rem;font-size:0.85em;}
.footerContent  img{max-width:100%;}
.footerContent  img.fullWidth{width:100%;}
.footerContent > :first-child{margin-top:0;}
.footerContent > :last-child{margin-bottom:0;}
.footerContent  p{text-align:right;}</style></span><main class="container"><span class="elm-css-style-wrapper" style="display: none;"><style>.site-title{display:flex;justify-content:space-between;align-items:center;font-size:1.5rem;margin:0.5rem 0 2rem;}
.site-title  a{text-decoration:none;}
.site-title  img{width:2rem;transition:transform 100ms  ;}
.site-title  img:hover{transform:scale(1.5);}
.site-title  .site-name{transition:transform 100ms  ;transform-origin:center left;}
.site-title  .site-name:hover{transform:scale(1.1);}
.article{margin-top:20px;}
.article  .article-title{font-size:3rem;text-align:center;margin-bottom:3rem;font-weight:900;}
.article  .article-banner{width:100%;padding-top:31.25%;position:relative;}
.article  .article-banner.article-banner--withAttribution{margin-bottom:4rem;}
.article  .article-banner.article-banner--withAttribution  figcaption{position:absolute;top:103%;left:0;width:100%;text-align:center;font-size:0.8rem;color:rgba(0,0,0,0.7);}
.article  .article-banner.article-banner--withAttribution  figcaption  em{font-style:italic;}
.article  .article-banner  img{position:absolute;top:0;left:0;width:100%;height:100%;}
.article  .article-content{margin-bottom:5vh;}
.article  .article-content  h2{font-size:2.2rem;font-weight:900;text-align:left;margin:3.5rem 0 1rem;}
.article  .article-content  h3{font-size:1.8rem;font-weight:600;text-align:left;margin:3vh 0 1vh;color:rgba(0,0,0,0.8);}
.article  .article-content  h4{font-size:1.2rem;font-weight:200;text-align:left;margin:2vh 0 1vh;color:rgba(0,0,0,0.6);}
.article  .article-content  p{margin:2.5rem 0;line-height:2rem;white-space:pre-wrap;text-align:justify;color:rgba(0,0,0,0.8);}
.article  .article-content  p > code{background-color:rgba(225,225,255,0.7);padding:1px 3px;font-size:0.7em;}
.article  .article-content  blockquote{border-left:5px solid rgba(5,117,230,0.8);background-color:rgba(5,117,230,0.1);padding:0.01vh 1vw;max-width:650px;margin:2.5rem auto;}
@media only screen and (max-width: 600px){.article  .article-content  blockquote{border-left:0;border-top:5px solid rgba(5,117,230,0.8);padding:0.01vh 3vw;}}
.article  .article-content  blockquote > p:first-child{margin-top:1rem;}
.article  .article-content  blockquote > p:last-child{margin-bottom:1rem;}
.article  .article-content  strong{font-weight:900;color:rgb(0,0,0);}
.article  .article-content  em{font-style:italic;}
.article  .article-content  a{text-decoration:underline;}
.article  .article-content  a:hover{text-decoration:none;}
.article  .article-content  .thanks{margin-top:2vw;font-style:italic;font-size:0.8em;text-align:right;}
.article  .article-content  ul{list-style-type:disc;padding-left:1rem;margin-left:2vh;}
.article  .article-content  ul > li + li{margin-top:2vh;}
.article  .article-content  pre{max-width:100%;overflow-y:scroll;}
.article  .article-content  code{line-height:1.7rem;font-size:0.85em;}
.article  .article-content  img{max-width:100%;}
.article  .article-content  img.fullWidth{width:100%;}
.author-card{display:flex;align-items:center;margin-top:2.5rem;}
.author-card > .author-picture{margin-right:1rem;}
.author-card > .author-description{text-align:justify;font-size:1rem;line-height:1.5rem;}</style></span><div class="site-title"><a class="site-name" elm-pages:prefetch="" href="/">JoGrenat&#039;s Blog</a><a href="https://twitter.com/JoGrenat"><img src="https://www.datocms-assets.com/53557/1632324226-twitterbird.svg"></a></div><section class="article"><h1 class="article-title">ðŸ‡«ðŸ‡·   Un design system en Elm</h1><figure class="article-banner " aria-hidden="true"><img alt="" src="https://www.datocms-assets.com/53557/1630943300-legos.png?fit=crop&max-h=250&max-w=800"></figure><div class="article-content"><div><p>Dans ma boÃ®te, nous avons rÃ©cemment dÃ©marrÃ© notre premier projet Elm pour un client. Je ne l&#039;avais jusqu&#039;Ã  prÃ©sent utilisÃ© que pour des projets personnels ou des projets internes. Collaborant avec un graphiste et fort de mes expÃ©riences prÃ©cÃ©dentes dans le monde JavaScript, j&#039;ai tout de suite optÃ© pour la mÃ©thodologie du Design System.</p><p>L&#039;idÃ©e est simple : plutÃ´t que de travailler sur des pages entiÃ¨res, on va travailler sur les diffÃ©rents composants de nos pages. Ces composants sont dÃ©veloppÃ©s indÃ©pendamment les uns des autres avec une collaboration forte entre un designer et un dÃ©veloppeur. Le design system centralise ensuite toutes les rÃ¨gles et propriÃ©tÃ©s du projet (couleurs, espacements, typographies, etc.) ainsi que les composants sous leurs diffÃ©rents Ã©tats.</p><p>Cet article n&#039;Ã©tant pas destinÃ© Ã  rentrer dans les dÃ©tails de la mÃ©thodologie en elle-mÃªme, je vous redirige vers cet excellent talk oÃ¹ CÃ©cile Freyd-Foucault et Florent Berthelot l&#039;expliquent point par point : <a href="https://www.youtube.com/watch?v=jXcO7Qu1Gjs">Designers, dÃ©veloppeurs, crÃ©ons la diffÃ©rence !</a></p><p>Ce qu&#039;il faut retenir pour la suite de cet article, c&#039;est qu&#039;on essaye de centraliser au maximum les rÃ¨gles et composants graphiques de notre site pour l&#039;exposer dans un endroit facilement accessible.</p><h2>Design system en Elm</h2><p>J&#039;Ã©tais assez curieux de voir ce que donnerait cette approche en Elm. L&#039;idÃ©e d&#039;avoir un langage fonctionnel dans lequel tout est pur et centrÃ© autour de fonctions rÃ©utilisables me semblait parfaitement correspondre. Et comme je le pensais, Elm s&#039;est rÃ©vÃ©lÃ© idÃ©al pour implÃ©menter un design system !</p><blockquote><p>Avant d&#039;aller plus loin, il me faut cependant Ã©claircir un point. Je vais parler dans la suite de cet article de <strong>composants</strong>. Ce terme dÃ©signe un Ã©lÃ©ment visuellement distinct dans une page web, comme par exemple une carte dans une liste, un tableau dans une page, etc. Dans le monde JavaScript, ce terme a tendance Ã  signifier quelque chose de similaire, mais avec une particularitÃ© supplÃ©mentaire : les composants gÃ¨rent en gÃ©nÃ©ral un Ã©tat interne invisible de l&#039;extÃ©rieur. En Elm, on cherchera Ã  Ã©viter au maximum les composants ayant un Ã©tat interne pour privilÃ©gier au maximum les fonctions pures.</p></blockquote><p>Nous avions plusieurs choix techniques possibles pour crÃ©er nos rÃ¨gles et composants :</p><ul><li><p>utiliser la bibliothÃ¨que standard <code>elm/html</code> avec un fichier CSS et des classes suivant <a href="https://www.alsacreations.com/article/lire/1641-bonnes-pratiques-en-css-bem-et-oocss.html">les mÃ©thodologies OOCSS ou BEM</a></p></li><li><p>utiliser <a href="https://package.elm-lang.org/packages/mdgriffith/elm-ui/latest/"><code>mdgriffith/elm-ui</code></a> avec son approche sans CSS</p></li><li><p>utiliser <a href="https://package.elm-lang.org/packages/rtfeldman/elm-css/latest/"><code>rtfeldman/elm-css</code></a> qui propose une approche intÃ©ressante de CSS typÃ© nous orientant vers du <em>CSS in Elm</em></p></li></ul><p>La curiositÃ© pour cette derniÃ¨re solution a jouÃ© un grand rÃ´le dans le choix malgrÃ© ma rÃ©ticence lÃ©gendaire pour les solutions de <em>CSS in JavaScript</em>. La premiÃ¨re alternative Ã©tait trÃ¨s semblable Ã  celle que j&#039;ai l&#039;habitude de suivre en JavaScript et je souhaitais changer pour ce projet. Quant Ã  la deuxiÃ¨me option, j&#039;avais dÃ©jÃ  eu l&#039;occasion d&#039;utiliser un peu <code>elm-ui</code> et avait eu le sentiment qu&#039;il rÃ©glait un problÃ¨me que je n&#039;avais personnellement pas : j&#039;ai toujours apprÃ©ciÃ© le CSS et ses possibilitÃ©s et me sentais un peu contraint par le champs rÃ©duit des possibles d&#039;<code>elm-ui</code>.</p><p>Nous sommes donc partis sur le fait d&#039;utiliser <code>elm-css</code> avec ces quelques rÃ¨gles simples :</p><ul><li><p>chaque composant (ou groupe de composants) a son propre fichier Elm dans lequel on peut trouver le composant et le CSS correspondant</p></li><li><p>ce CSS est dÃ©fini de faÃ§on globale, c&#039;est-Ã -dire qu&#039;il gÃ©nÃ¨re une feuille de style CSS propre (par opposition au fait de n&#039;utiliser que des styles <em>inline</em>, autre possibilitÃ© de <code>elm-css</code>)</p></li><li><p>les couleurs, typographies et espacements sont dans leur module propre</p></li><li><p>nos composants doivent Ãªtre composables : chacun d&#039;eux prend une liste d&#039;attributs et d&#039;enfants comme le ferait n&#039;importe quelle fonction de <code>elm/html</code></p></li></ul><p>Petit exemple pour un bouton :</p><pre><code class="lang-elm">button : ButtonType -&gt; ButtonSize -&gt; List (Html.Attribute msg) -&gt; List (Html msg) -&gt; Html msg  
button buttonType buttonSize attributes content =  
    let  
        typeClass =  
            class (getTypeClass buttonType)  
      
        sizeClass =  
            class (getSizeClass buttonSize)  
	in  
	Html.button  
        ([ class &quot;button&quot;, typeClass, sizeClass ] ++ attributes)  
        content

styles : List Css.Snippet  
styles =  
    [ Css.Global.class &quot;button&quot;  
        [ borderRadius (px 3)  
        , textTransform uppercase  
        , cursor pointer    
        , textAlign center  
        , withClass &quot;button--primary&quot;  
            [ backgroundColor Colors.primary  
            , color Colors.colorOnPrimary  
            ]    
        , withClass &quot;button--large&quot;  
            [ padding2 (px 10) (px 16)  
            ]
        -- ... 	
        ]
    ]</code></pre><p>On voit qu&#039;on a un bouton gÃ©nÃ©rique qu&#039;on peut personnaliser avec deux options : son type (primaire, secondaire, ...) et sa taille (large, medium, petit). Avec des fonctions Elm, c&#039;est trÃ¨s simple Ã  rÃ©aliser et les types nous aident Ã  limiter les choix possibles !</p><p>Les styles sont dÃ©finis Ã  part puis centralisÃ©s entre composants et insÃ©rÃ©s une fois dans la page.</p><p>Une amÃ©lioration possible de ce code serait de typer nos classes pour Ã©viter les erreurs d&#039;inattention, mais nous n&#039;avons pas encore ressenti le besoin d&#039;aller jusque lÃ  :</p><pre><code class="lang-elm">type ButtonClass =
    Button
    | ButtonPrimary
    | ButtonSecondary
    | ButtonLarge

buttonClassToClass : ButtonClass -&gt; Html.Attribute msg
buttonClassToClass buttonClass = 
    case buttonClass of 
        Button -&gt;
            class &quot;button&quot;
        ButtonPrimary -&gt;
            class &quot;button--primary&quot;
        ButtonSecondary -&gt;
            class &quot;button--secondary&quot;
        ButtonLarge -&gt;
            class &quot;button--large&quot;</code></pre><h2>Les Ã©lÃ©ments de base</h2><p>Un design system commence en gÃ©nÃ©ral par les atomes, les Ã©lÃ©ments les plus simples. Nous avons donc commencÃ© par crÃ©er un fichier <code>Colors</code> contenant toutes les couleurs de notre projet selon leur sÃ©mantique :</p><pre><code class="lang-elm">borderLight : Color  
borderLight =  
    rgba 0 0 0 0.12

-- ... 

fieldBorder : Color  
fieldBorder =  
    borderLight</code></pre><p>Viennent ensuite les textes. Nous avons choisi d&#039;utiliser une unique fonction pour tous les textes de l&#039;application afin de centraliser toutes les possibilitÃ©s. Cette fonction s&#039;appelle <code>typography</code> et est utilisÃ©e aussi bien dans nos pages que dans nos composants. L&#039;astuce est que cette fonction prend deux arguments essentiels : le type de texte et la balise Ã  utiliser :</p><pre><code class="lang-elm">type TypographyType  
    = Title1  
    | Title2  
    | Paragraph1
    | Paragraph2
    | Error

type alias Tag = 
    List (Html.Attribute msg) -&gt; List (Html msg) -&gt; Html msg

typography : TypographyType -&gt; Tag -&gt; List (Html.Attribute msg) -&gt; String -&gt; Html msg  
typography typographyType tagFunction attributes content =  
    let  
        className =  
            getClassName typographyType  
    in  
        tagFunction (class className :: attributes) [ text content ]

-- Exemple d&#039;utilisation :

myTitle =
	typography Title1 h2 [] &quot;My title&quot;</code></pre><p>L&#039;avantage est qu&#039;on peut combiner trÃ¨s facilement style et sÃ©mantique : on peut notamment respecter la hiÃ©rarchie <code>h1</code>, <code>h2</code>, etc. sans Ãªtre contraint au niveau de l&#039;apparence du texte.</p><p>De mÃªme, les espacements sont codifiÃ©s pour avoir un style plus uniforme sur le site :</p><pre><code class="lang-elm">type SpacingSize  
    = NoSpace | XXS | XS | S | M | L | XL  
  
spacing : SpacingSize -&gt; Px  
spacing spacingSize =  
    case spacingSize of  
        NoSpace -&gt;  
            px 0  
        XXS -&gt;  
            px 4  
        XS -&gt;  
            px 8  
        S -&gt;  
            px 16  
        M -&gt;  
            px 24  
        L -&gt;  
            px 40  
        XL -&gt;  
            px 60

-- Exemple d&#039;utilisation (avec elm-css) :

myTitle =
    typography Title1 h2 
        [ css [ marginTop (spacing M) ] ] 
        &quot;My title&quot;</code></pre><h2>DiffÃ©rentes approches de composants</h2><p>Pour les gens issus des univers React, Angular ou autre, le rÃ©flexe de penser en composants est profondÃ©ment ancrÃ©. En Elm cela est tout Ã  fait valable mais il faut en gÃ©nÃ©ral un peu de temps pour comprendre que la dÃ©finition de composant diffÃ¨re considÃ©rablement : un composant, ce n&#039;est pas forcÃ©ment un Ã©lÃ©ment avec un Ã©tat interne capable de gÃ©rer lui-mÃªme ses mises Ã  jour.</p><p>Comme nous l&#039;avons vu plus haut, un composant peut Ãªtre une simple fonction ! Et j&#039;irai mÃªme plus loin en disant que si vous le pouvez, essayez au maximum de reprÃ©senter vos composants par une fonction, c&#039;est de loin le type de composants le plus facile Ã  utiliser.</p><p>Mais cela ne suffit pas toujours et voici les diffÃ©rents cas que j&#039;ai pu identifier :</p><ul><li><p>mon composant n&#039;a pas d&#039;Ã©tat interne</p></li><li><p>mon composant a un Ã©tat interne mais pas d&#039;effet secondaire</p></li><li><p>mon composant a des effets secondaires internes</p></li></ul><p>Je vais revenir sur chacun de ces cas.</p><h3>Mon composant n&#039;a pas d&#039;Ã©tat interne</h3><p>Si votre composant n&#039;a pas d&#039;Ã©tat Ã  gÃ©rer, c&#039;est de loin le plus simple ! C&#039;est le cas du bouton vu plus haut, qui dÃ©lÃ¨gue Ã  celui qui l&#039;utilise la gestion du clic :</p><pre><code class="lang-elm">backButton =
	button Secondary Large 
	    [ type_ &quot;button&quot;, onClick Back ] 
	    [ text &quot;Back&quot; ]</code></pre><p>Mais par extension, un composant peut ne pas avoir d&#039;Ã©tat interne parce qu&#039;il est tout Ã  fait lÃ©gitime que le parent soit en charge de cet Ã©tat ! Par exemple, nous avons un bouton qui affiche un loader et se dÃ©sactive une fois cliquÃ©. Pour les requÃªtes HTTP, nous utilisons<a href="https://package.elm-lang.org/packages/krisajenkins/remotedata/latest/RemoteData">krisajenkins/remotedata</a> sur toute notre application, et donc nous l&#039;utilisons Ã©galement pour l&#039;Ã©tat de notre bouton :</p><pre><code class="lang-elm">buttonWithStatus : RemoteData e a -&gt; List (Html.Attribute msg) -&gt; List (Html msg) -&gt; Html msg  
buttonWithStatus status attributes content =  
    Html.button  
        ([ class &quot;button&quot;  
         , classList [ ( &quot;button--loading&quot;, RemoteData.isLoading status ) ]  
         , disabled ( RemoteData.isLoading status )  
         ]  ++ attributes  
        )  
        (case status of  
            Loading -&gt;  
                loader  
            _ -&gt;  
                content  
        )</code></pre><p>Comme le composant parent possÃ¨de la responsabilitÃ© sur l&#039;action effectuÃ©e, nul besoin d&#039;avoir ce <code>RemoteData</code> dans l&#039;Ã©tat de notre composant, c&#039;est un argument comme un autre !</p><h3>Mon composant a un Ã©tat interne mais pas d&#039;effets secondaires</h3><p>Certains de nos composants ont tout de mÃªme besoin de garder un Ã©tat interne qui ne devrait pas Ãªtre stockÃ© dans un composant parent. Par exemple, nos champs texte conservent toujours deux valeurs dans leur Ã©tat interne : la valeur actuelle du champ et une valeur indiquant si l&#039;utilisateur a dÃ©jÃ  interagi avec le champ.</p><pre><code class="lang-elm">module Input exposing (InputModel)

type InputModel  
    = InputModel { value : String, touchStatus : TouchStatus }</code></pre><p>Une bonne pratique, comme on le voit ci-dessus, est d&#039;utiliser un type opaque : notre module expose le type <code>InputModel</code> mais pas le constructeur <code>InputModel</code> (la nuance est importante, exposer le constructeur se ferait en modifiant la premiÃ¨re ligne : <code>module Input exposing (InputModel(..))</code>).</p><p>Cela signifie qu&#039;en dehors de notre fichier, le dÃ©veloppeur n&#039;est pas capable de modifier lui-mÃªme cet Ã©tat ou d&#039;en crÃ©er un : le composant est le seul responsable de son Ã©tat interne.</p><p>Souvent, on voit que dans ces cas lÃ  les dÃ©veloppeurs Elm vont remettre en place une mini TEA dans le composant en lui crÃ©ant une fonction <code>init</code>, <code>update</code>, <code>view</code> ainsi que des messages. Or, si effectivement il faut une faÃ§on d&#039;initialiser le modÃ¨le et une faÃ§on de l&#039;afficher, il n&#039;est pas nÃ©cessaire d&#039;avoir une fonction d&#039;<code>update</code> ou des messages si votre composant n&#039;a pas d&#039;effet secondaire !</p><p>Pour cela, on va renvoyer le nouveau modÃ¨le directement dans le message gÃ©nÃ©rÃ©, en demandant en argument supplÃ©mentaire un message dans lequel le stocker. Voici l&#039;exemple :</p><pre><code class="lang-elm">input : String -&gt; InputModel -&gt; (InputModel -&gt; msg) -&gt; List (Html.Attribute msg) -&gt; Html msg
input inputName (InputModel model) toMsg attributes =  
    input  
        [ class &quot;input&quot;  
        , type_ &quot;text&quot;  
        , name inputName
        , Attributes.value model.value
        , onInput (\newValue -&gt; toMsg ( InputModel { model | value = newValue } ))
        ]  
        []</code></pre><p><em>(Ceci est un exemple trÃ¨s simplifiÃ© : notre composant </em><code><em>input</em></code><em> gÃ¨re en rÃ©alitÃ© beaucoup plus de choses : un label, des erreurs, l&#039;Ã©tat activÃ© / dÃ©sactivÃ©, etc.)</em></p><p>On voit qu&#039;on peut ainsi retourner directement Ã  l&#039;utilisateur le modÃ¨le modifiÃ©, ce qui est plus simple des deux cÃ´tÃ©s puisqu&#039;on n&#039;a pas besoin d&#039;utiliser de <code>Html.map</code> ou d&#039;appeler une fonction d&#039;<code>update</code> pour le composant :</p><pre><code class="lang-elm">type alias Model = 
    { inputModel : Input.InputModel }

init : Model 
init = 
    { inputModel = Input.emptyInput }

type Msg =
    InputChanged Input.Model

update : Msg -&gt; Model -&gt; Model
update msg model = 
    case msg of
        InputChanged newModel -&gt;
            { model | inputModel = newModel }
	
view : Model -&gt; Html msg
view model =
    Input.input &quot;myInput&quot; model.inputModel InputChanged [] []</code></pre><h3>Mon composant a un Ã©tat interne et des effets secondaires</h3><p>Si votre composant a des effets secondaires qui sont de sa responsabilitÃ© propre (et qui n&#039;ont donc pas vocation a Ãªtre gÃ©rÃ©s par le parent), il faudra utiliser une forme plus complexe et embarquer une mini Elm Architecture dans votre composant.</p><p>Comprenez bien qu&#039;on sort ici l&#039;artillerie lourde : votre composant gÃ¨re beaucoup plus de responsabilitÃ© et devient d&#039;autant moins facile Ã  utiliser. C&#039;est donc la solution Ã  n&#039;utiliser que lorsque le besoin le justifie.</p><p>C&#039;est le cas pour notre slider par exemple, dont voici les types exposÃ©s (le code Ã©tant trop long) :</p><pre><code class="lang-elm">type Model -- Model un type opaque

type Msg -- Msg est un type opaque

init : Float -&gt; Float -&gt; Float -&gt; Model

update : Msg -&gt; Model -&gt; (Model, Cmd Msg)

view : Model -&gt; Msg

subscriptions : Model -&gt; Sub Msg

value : Model -&gt; Float</code></pre><p>On reconnaÃ®t ici une <a href="https://guide.elm-lang.org/architecture/">Elm Architecture</a>. L&#039;<code>init</code> prend trois <code>Float</code> en argument : la valeur initiale, la valeur minimale et la valeur maximale. On reÃ§oit en retour un Model qui est un type opaque. La seule faÃ§on de crÃ©er et donc d&#039;utiliser notre composant est donc de passer par cette fonction.</p><p>Les fonctions <code>update</code>, <code>view</code> et <code>subscriptions</code> sont standards, mais vont produire des messages de type <code>Slider.Msg</code>. Cela signifie que celui qui va les utiliser devra les <em>envelopper</em> dans un message Ã  lui :</p><pre><code class="lang-elm">type Msg  
    = MessageFromSlider Slider.Msg  

type alias Model =  
    { sliderModel : Slider.Model }  

update : Msg -&gt; Model -&gt; ( Model, Cmd Msg )  
update msg model =  
    case msg of  
        MessageFromSlider sliderMsg -&gt;  
            let  
                ( newSliderModel, sliderCmd ) =  
                    Slider.update msg model.sliderModel  
            in    
            ( { model | sliderModel = newSliderModel }  
            , Cmd.map MessageFromSlider sliderCmd  
            )

view : Model -&gt; Html Msg  
view model =  
    div []  
        [ Slider.view model.sliderModel  
            |&gt; Html.map MessageFromSlider  
        ]
          
subscriptions : Model -&gt; Sub Msg  
subscriptions model =  
    Slider.subscriptions model.sliderModel  
        |&gt; Sub.map MessageFromSlider</code></pre><p>On enveloppe les messages du slider dans un message personnalisÃ© grÃ¢ce aux fonctions <code>Cmd.map</code>, <code>Html.map</code> et <code>Sub.map</code>. On obtiendra ainsi un message <code>MessageFromSlider</code> qui contient le message du slider. On se charge nous-mÃªme de transmettre ce message ainsi que le modÃ¨le Ã  la fonction d&#039;<code>update</code> du slider.</p><p>Comme on peut le voir, c&#039;est une approche qui nÃ©cessite pas mal de code et qui est donc assez lourde. C&#039;est pourquoi il est souvent recommandÃ© de simplifier au maximum ses composants quand c&#039;est possible. C&#039;est un rÃ©flexe parfois dur Ã  prendre quand on vient des frameworks JavaScript qui ont tendance Ã  considÃ©rer que tout est un composant indÃ©pendant.</p><h2>ConcrÃ©tiser son design system</h2><p>RÃ©utiliser des composants et les lister dans son code, c&#039;est trÃ¨s bien, mais c&#039;est encore mieux quand on dispose d&#039;une galerie permettant de les passer en revue ! Pour cela, j&#039;ai utilisÃ© le package <a href="https://package.elm-lang.org/packages/kalutheo/elm-ui-explorer/latest"><code>elm-ui-explorer</code></a> de ThÃ©ophile Kalumbu, un Ã©quivalent plus simple de <a href="https://storybook-design-system.netlify.com/?path=/docs/design-system-intro--page">Storybook</a> dans l&#039;univers JavaScript.</p><p><a href="https://kalutheo.github.io/elm-ui-explorer/examples/dsm/index.html#Getting%20Started/About/About">Voici un exemple d&#039;un design system avec elm-ui-explorer</a></p><p>Les avantages d&#039;avoir cette galerie sont multiples. PremiÃ¨rement, ils facilitent la discussion avec votre designer en se penchant directement sur l&#039;implÃ©mentation que vous avez faite. Ils aident aussi les dÃ©veloppeurs lorsqu&#039;ils ont besoin de retrouver des composants ou de revoir les diffÃ©rentes capacitÃ©s de leurs composants. Pendant la phase de dÃ©veloppement, cela offre aussi l&#039;Ã©norme avantage de tester ses composants en totale isolation du reste du code, permettant ainsi de trouver des bugs visuels ou logiques qui auraient Ã©tÃ© durs Ã  dÃ©tecter autrement.</p><h2>Conclusion</h2><p>Les design system c&#039;est bien. Permettant d&#039;harmoniser l&#039;apparence visuelle de votre site, ils ont surtout de nombreux avantages lors du dÃ©veloppement d&#039;un site internet : ils facilitent la crÃ©ation de nouvelles pages, rendent plus productive la collaboration dÃ©veloppeur / designer et permettent de dÃ©tecter plus rapidement des rÃ©gressions dans les composants de votre site.</p><p>En Elm, c&#039;est trÃ¨s pratique. Comme tout est pur dans ce langage, sortir un composant pour le rendre rÃ©utilisable est Ã  peu de choses prÃ¨s aussi simple qu&#039;un copier / coller. Et une fois ces composants crÃ©Ã©s, les grands atouts du langages interviennent Ã©galement : ils sont faciles Ã  refactorer et simples Ã  faire Ã©voluer puisque le compilateur sera lÃ  pour assurer vos arriÃ¨res.</p><p>Cette premiÃ¨re expÃ©rience de design system en Elm a Ã©tÃ© pour moi extrÃªmement positive ! Ce n&#039;Ã©tait ni mon premier projet Elm, ni mon premier design system, mais la combinaison des deux s&#039;est rÃ©vÃ©lÃ©e extrÃªmement productive. Si cet article a rÃ©ussi Ã  vous convaincre, c&#039;est Ã  vous de jouer maintenant !</p></div></div></section><aside class="author-card"><img class="author-picture" src="https://www.datocms-assets.com/53557/1630943458-profil-200.jpg?crop64=Zm9jYWxwb2ludCxmYWNlcyxlbnRyb3B5&fit=crop&h=80&mask=ellipse&w=80"><p class="author-description">Passionate web developer, caring for user experience and code quality. In this blog, I share my discoveries and reflexions.</p></aside></main><footer class="container footer"><div class="footerContent"><p><em>Blog powered by <a href="https://elm-pages.com/">elm-pages</a></em></p></div></footer></div>
    </body>
  </html>
  